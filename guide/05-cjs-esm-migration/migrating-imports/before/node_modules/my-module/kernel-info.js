const isRunningAsCommonJSInNode =
  (typeof module === 'object' && module.exports && typeof require === 'function');

function getKernelInfo() { // A synchronous API that has to remain synchronous
  if (isRunningAsCommonJSInNode) {
    // Running on Node.js as CommonJS, load the 'os' built-in via require().
    const os = require('os');
    return os.version();
  } else {
    return 'unknown';
  }
}

if (isRunningAsCommonJSInNode) {
  module.exports = { getKernelInfo };
} else {
  // Other ways to export in non-CommonJS environments
}