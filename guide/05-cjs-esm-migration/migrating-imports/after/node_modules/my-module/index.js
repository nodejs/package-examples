import fs from 'node:fs';  // default export of Node.js built-in module
import pkg from 'pkg';  // default export of a third-party package

import { join } from 'node:path';  // Named export of Node.js built-in module
import { foo } from 'pkg';  // Named export of a third-party package

// To work around undetectable names from CJS, the ESM importer can destructure
// from the default export, which is the `module.exports` object of the CommonJS module.
// CommonJS modules always have a default export, so this always works.
import cjsPkg from 'cjs-pkg-with-undetectable-name';
const { bar } = cjsPkg;  // The destructuring happens at run time again.

// In ESM, the full path including filename must be specified
import utils from './utils-dir/index.js';

// In ESM, the extension must be specified
import lib from './lib.js';

export { fs, pkg, join, foo, bar, utils, lib };
