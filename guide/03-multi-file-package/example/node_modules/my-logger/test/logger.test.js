import assert from 'node:assert';
import { describe, it, before } from 'node:test';
import { Logger } from '../index.js';

describe('Logger Tests', () => {
  const logs = [];
  const logger = new Logger();

  before(() => {
    console.log = (...args) => {
      logs.push([...args]);
    };
  });

  it('should handle error logging', () => {
    logger.error('Test error message');
    assert.strictEqual(logs.length, 1);
    // Format: '[2025-09-17T18:15:52.725Z] ERROR Test error message'
    assert.match(logs[0][0], /^\[\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z\] ERROR Test error message$/);
  });
});
